<article class="markdown"><h1>国际化<span class="subtitle"></span><span class="widget"></span>
	<a class="edit-button" href="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/docs/i18n.zh-CN.md" target="_blank" rel="noopener noreferrer">
		<i nz-icon nzType="edit"></i></a>
</h1>
<nz-affix class="toc-affix" [nzOffsetTop]="16">
    <nz-anchor [nzAffix]="false" nzShowInkInFixed (nzClick)="goLink($event)">
        <nz-link nzHref="#全局配置" nzTitle="全局配置"></nz-link><nz-link nzHref="#运行时修改" nzTitle="运行时修改"></nz-link><nz-link nzHref="#支持语言" nzTitle="支持语言"></nz-link><nz-link nzHref="#如何使用-date-fns-进行日期格式化" nzTitle="如何使用 date-fns 进行日期格式化"></nz-link><nz-link nzHref="#date-fns-支持语言" nzTitle="date-fns 支持语言"></nz-link>
    </nz-anchor>
</nz-affix>
  <section class="markdown" ngNonBindable><p>目前的默认文案是中文，如果需要使用其他语言，可以在初始化时进行配置，也可以在运行中随时修改，可以参考下面的方案。
你也可以在新建项目时通过 <code>ng add ng-zorro-antd</code> 设置国际化语言。</p>
<h2 id="全局配置"><span>全局配置</span><a onclick="window.location.hash = '全局配置'" class="anchor">#</a></h2><p><code>ng-zorro-antd</code> 提供了几个配置型 token 用于全局配置国际化文案和日期，<code>NZ_I18N</code>用于国际化文案，<code>NZ_DATE_CONFIG</code>用于修改日期相关特性，除此之外，我们默认使用Angular的语言包来进行日期格式化（需要引入相应的Angular语言包）。</p>
<p>另外，我们还提供了可选的<code>NZ_DATE_LOCALE</code>用于date-fns方式来格式化本地日期（依赖 <a href="https://date-fns.org/docs/I18n"><code>date-fns</code></a> 库，详见下方的<code>如何使用 date-fns 进行日期格式化</code>）。</p>
<pre class="language-typescript"><code>
<span class="token comment" spellcheck="true">/** 配置 angular i18n **/</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> registerLocaleData <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'@angular/common/locales/en'</span><span class="token punctuation">;</span>
<span class="token function">registerLocaleData</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/** 配置 ng-zorro-antd 国际化 **/</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> NZ_I18N<span class="token punctuation">,</span> en_US <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token operator">...</span>
  providers   <span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span> provide<span class="token punctuation">:</span> NZ_I18N<span class="token punctuation">,</span> useValue<span class="token punctuation">:</span> en_US <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
</code></pre>
<h3 id="nz_date_config-日期全局配置"><span>NZ_DATE_CONFIG 日期全局配置</span><a onclick="window.location.hash = 'nz_date_config-日期全局配置'" class="anchor">#</a></h3><p>默认配置如下：</p>
<pre class="language-js"><code><span class="token punctuation">&#123;</span>
  <span class="token comment" spellcheck="true">/** 指定哪一天为一周的开始（null表示采用内部默认值，0表示星期日，1表示星期一，以此类推） */</span>
  firstDayOfWeek<span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">&#125;</span></code></pre>
<h2 id="运行时修改"><span>运行时修改</span><a onclick="window.location.hash = '运行时修改'" class="anchor">#</a></h2><p><code>ng-zorro-antd</code> 提供了一个服务 <code>NzI18nService</code> 用于动态修改国际化文案。</p>
<pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> en_US<span class="token punctuation">,</span> NzI18nService <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> i18n<span class="token punctuation">:</span> NzI18nService<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

<span class="token function">switchLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span>en_US<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
</code></pre>
<p>注意：<code>en_US</code> 是语言包名称，以下表格也遵循同样的规则。</p>
<h2 id="支持语言"><span>支持语言</span><a onclick="window.location.hash = '支持语言'" class="anchor">#</a></h2><table>
<thead>
<tr>
<th>语言</th>
<th>语言包名</th>
</tr>
</thead>
<tbody><tr>
<td>阿拉伯</td>
<td>ar_EG</td>
</tr>
<tr>
<td>亞美尼亞</td>
<td>hy_AM</td>
</tr>
<tr>
<td>保加利亚语</td>
<td>bg_BG</td>
</tr>
<tr>
<td>加泰罗尼亚语</td>
<td>ca_ES</td>
</tr>
<tr>
<td>捷克语</td>
<td>cs_CZ</td>
</tr>
<tr>
<td>丹麦语</td>
<td>da_DK</td>
</tr>
<tr>
<td>德语</td>
<td>de_DE</td>
</tr>
<tr>
<td>希腊语</td>
<td>el_GR</td>
</tr>
<tr>
<td>英语</td>
<td>en_GB</td>
</tr>
<tr>
<td>英语（美式）</td>
<td>en_US</td>
</tr>
<tr>
<td>西班牙语</td>
<td>es_ES</td>
</tr>
<tr>
<td>爱沙尼亚语</td>
<td>et_EE</td>
</tr>
<tr>
<td>波斯语</td>
<td>fa_IR</td>
</tr>
<tr>
<td>芬兰语</td>
<td>fi_FI</td>
</tr>
<tr>
<td>法语（比利时）</td>
<td>fr_BE</td>
</tr>
<tr>
<td>法语</td>
<td>fr_FR</td>
</tr>
<tr>
<td>希伯来语</td>
<td>he_IL</td>
</tr>
<tr>
<td>印地语</td>
<td>hi_IN</td>
</tr>
<tr>
<td>克罗地亚语</td>
<td>hr_HR</td>
</tr>
<tr>
<td>匈牙利</td>
<td>hu_HU</td>
</tr>
<tr>
<td>冰岛语</td>
<td>is_IS</td>
</tr>
<tr>
<td>印度尼西亚语</td>
<td>id_ID</td>
</tr>
<tr>
<td>意大利语</td>
<td>it_IT</td>
</tr>
<tr>
<td>日语</td>
<td>ja_JP</td>
</tr>
<tr>
<td>格鲁吉亚语</td>
<td>ka_GE</td>
</tr>
<tr>
<td>卡纳达语</td>
<td>kn_IN</td>
</tr>
<tr>
<td>韩语/朝鲜语</td>
<td>ko_KR</td>
</tr>
<tr>
<td>库尔德语</td>
<td>ku_IQ</td>
</tr>
<tr>
<td>拉脱维亚语</td>
<td>lv_LV</td>
</tr>
<tr>
<td>马来语</td>
<td>ms_MY</td>
</tr>
<tr>
<td>蒙古语</td>
<td>mn_MN</td>
</tr>
<tr>
<td>挪威</td>
<td>nb_NO</td>
</tr>
<tr>
<td>尼泊尔语</td>
<td>ne_NP</td>
</tr>
<tr>
<td>荷兰语（比利时）</td>
<td>nl_BE</td>
</tr>
<tr>
<td>荷兰语</td>
<td>nl_NL</td>
</tr>
<tr>
<td>波兰语</td>
<td>pl_PL</td>
</tr>
<tr>
<td>葡萄牙语(巴西)</td>
<td>pt_BR</td>
</tr>
<tr>
<td>葡萄牙语</td>
<td>pt_PT</td>
</tr>
<tr>
<td>斯洛伐克语</td>
<td>sk_SK</td>
</tr>
<tr>
<td>塞尔维亚</td>
<td>sr_RS</td>
</tr>
<tr>
<td>斯洛文尼亚</td>
<td>sl_SI</td>
</tr>
<tr>
<td>瑞典语</td>
<td>sv_SE</td>
</tr>
<tr>
<td>泰米尔语</td>
<td>ta_IN</td>
</tr>
<tr>
<td>泰语</td>
<td>th_TH</td>
</tr>
<tr>
<td>土耳其语</td>
<td>tr_TR</td>
</tr>
<tr>
<td>罗马尼亚语</td>
<td>ro_RO</td>
</tr>
<tr>
<td>俄罗斯语</td>
<td>ru_RU</td>
</tr>
<tr>
<td>乌克兰语</td>
<td>uk_UA</td>
</tr>
<tr>
<td>越南语</td>
<td>vi_VN</td>
</tr>
<tr>
<td>简体中文</td>
<td>zh_CN</td>
</tr>
<tr>
<td>繁体中文</td>
<td>zh_TW</td>
</tr>
</tbody></table>
<h2 id="如何使用-date-fns-进行日期格式化"><span>如何使用 date-fns 进行日期格式化</span><a onclick="window.location.hash = '如何使用-date-fns-进行日期格式化'" class="anchor">#</a></h2><p>对于日期的格式化，我们默认采用Angular的DatePipe（<a href="https://angular.io/api/common/DatePipe">语法参考</a>来实现（依赖Angular的locale语言包），但由于Angular自带的DatePipe并非按照ISO标准算法实现（<a href="https://github.com/angular/angular/issues/25380">issue #25380</a>），使用时周数的展示可能与预期不符（相关issue: <a href="https://github.com/NG-ZORRO/ng-zorro-antd/issues/2406">#2406</a>, <a href="https://github.com/NG-ZORRO/ng-zorro-antd/issues/2819">#2819</a>）。</p>
<p>所以我们新提供了<code>date-fns</code>方式（<a href="https://date-fns.org/docs/format#description">语法参考</a>）来进行标准的日期格式化，您可以通过以下方式切换至 <code>date-fns</code>（切换后将影响所有日期类组件如Calendar/DatePicker的日期格式化）：</p>
<pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> NzI18nService <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'ng-zorro-antd/i18n'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> enUS<span class="token punctuation">,</span> ja <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'date-fns/locale'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token operator">...</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true">// 在应用根模块中设置NZ_DATE_LOCALE的值，将激活date-fns方式的日期格式化展示</span>
    <span class="token punctuation">&#123;</span> provide<span class="token punctuation">:</span> NZ_DATE_LOCALE<span class="token punctuation">,</span> useValue<span class="token punctuation">:</span> enUS <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> i18n<span class="token punctuation">:</span> NzI18nService<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

  <span class="token operator">...</span>

  <span class="token function">switchLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setDateLocale</span><span class="token punctuation">(</span>ja<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 运行时切换语言为日语</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>切换成功后，您也可以选择移除掉对Angular Locales包的依赖（删除下方代码）来减小打包体积（前提是你自己代码没有对他依赖）:</p>
<pre class="language-ts"><code><span class="token comment" spellcheck="true">// 以下代码可根据需要移除</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> registerLocaleData <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'@angular/common/locales/en'</span><span class="token punctuation">;</span>
<span class="token function">registerLocaleData</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="date-fns-支持语言"><span>date-fns 支持语言</span><a onclick="window.location.hash = 'date-fns-支持语言'" class="anchor">#</a></h2><p><a href="https://date-fns.org/docs/I18n#supported-languages">https://date-fns.org/docs/I18n#supported-languages</a></p>
</section>
  </article>