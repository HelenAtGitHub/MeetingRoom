<article class="markdown"><h1>Customize Theme<span class="subtitle"></span><span class="widget"></span>
	<a class="edit-button" href="https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/docs/customize-theme.en-US.md" target="_blank" rel="noopener noreferrer">
		<i nz-icon nzType="edit"></i></a>
</h1>
<nz-affix class="toc-affix" [nzOffsetTop]="16">
    <nz-anchor [nzAffix]="false" nzShowInkInFixed (nzClick)="goLink($event)">
        <nz-link nzHref="#less-variables" nzTitle="Less variables"></nz-link><nz-link nzHref="#official-themes" nzTitle="Official Themes"></nz-link><nz-link nzHref="#switch-theming" nzTitle="Switch Theming"></nz-link>
    </nz-anchor>
</nz-affix>
  <section class="markdown" ngNonBindable><p>Ant Design allows you to customize some basic design aspects in order to meet the needs of UI diversity from business and brand, including primary color, border radius, border color, etc.</p>
<p><img src="https://zos.alipayobjects.com/rmsportal/zTFoszBtDODhXfLAazfSpYbSLSEeytoG.png" alt=""></p>
<h2 id="less-variables"><span>Less variables</span><a onclick="window.location.hash = 'less-variables'" class="anchor">#</a></h2><p>We are using <a href="http://lesscss.org/">Less</a> as the development language for styling. A set of less variables are defined for each design aspect that can be customized to your needs.</p>
<blockquote>
<p>You can use the theme define file of react version in ng-zorro-antd too.</p>
</blockquote>
<h3 id="customize-theme-with-schematics"><span>Customize theme with schematics</span><a onclick="window.location.hash = 'customize-theme-with-schematics'" class="anchor">#</a></h3><p>Run <code>ng add ng-zorro-antd</code>, set up custom theme file, then modified the file <code>src/theme.less</code>.</p>
<h3 id="without-schematics"><span>Without schematics</span><a onclick="window.location.hash = 'without-schematics'" class="anchor">#</a></h3><p>Create a standalone less file named <code>theme.less</code> in <code>src</code> folder, and add the path of it to the list of <code>styles</code> in <code>angular.json</code> file.</p>
<pre class="language-json"><code>...
  <span class="token property">"styles"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    ...
    <span class="token string">"src/theme.less"</span>
    ...
  <span class="token punctuation">]</span>
...</code></pre>
<p>Here is an example of <code>theme.less</code></p>
<blockquote>
<p>The base color is changed to <code>#f5222d</code> in the example below.</p>
</blockquote>
<pre class="language-css"><code>// -------- import official less file -----------
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"../node_modules/ng-zorro-antd/ng-zorro-antd.less"</span><span class="token punctuation">;</span></span>

// -------- override less var -----------
<span class="token atrule"><span class="token rule">@primary-color</span>          <span class="token punctuation">:</span> #f5222d<span class="token punctuation">;</span></span></code></pre>
<h3 id="customize-in-webpack"><span>Customize in webpack</span><a onclick="window.location.hash = 'customize-in-webpack'" class="anchor">#</a></h3><p>Angular CLI provide <a href="https://www.npmjs.com/package/@angular-builders/custom-webpack">custom-webpack-builder</a>, you can modify the less variable via adjust the <a href="https://github.com/webpack-contrib/less-loader">less-loader</a> options in webpack.</p>
<ol>
<li>Import <code>ng-zorro-antd.less</code> in <code>angular.json</code></li>
</ol>
<pre class="language-json"><code><span class="token punctuation">&#123;</span>
  <span class="token property">"styles"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"node_modules/ng-zorro-antd/ng-zorro-antd.less"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code></pre>
<ol start="2">
<li>Install <code>@angular-builders/custom-webpack</code> builder</li>
</ol>
<pre class="language-bash"><code><span class="token function">npm</span> i -D @angular-builders/custom-webpack</code></pre>
<ol start="3">
<li>create <code>extra-webpack.config.js</code></li>
</ol>
<pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        test   <span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
          modifyVars<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> <span class="token comment" spellcheck="true">// modify theme variable</span>
            <span class="token string">'primary-color'</span><span class="token punctuation">:</span> <span class="token string">'#1DA57A'</span><span class="token punctuation">,</span>
            <span class="token string">'link-color'</span><span class="token punctuation">:</span> <span class="token string">'#1DA57A'</span><span class="token punctuation">,</span>
            <span class="token string">'border-radius-base'</span><span class="token punctuation">:</span> <span class="token string">'2px'</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          javascriptEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</code></pre>
<ol start="4">
<li>Customize builder in <code>angular.json</code></li>
</ol>
<pre class="language-diff"><code>  "architect": &#123;
    "build": &#123;
<span class="token deleted">-     "builder": "@angular-devkit/build-angular:browser",</span>
<span class="token inserted">+     "builder": "@angular-builders/custom-webpack:browser",</span>
      "options": &#123;
<span class="token inserted">+        "customWebpackConfig": &#123;</span>
<span class="token inserted">+          "path": "./extra-webpack.config.js",</span>
<span class="token inserted">+          "mergeStrategies": &#123;</span>
<span class="token inserted">+            "module.rules": "append"</span>
<span class="token inserted">+          &#125;,</span>
<span class="token inserted">+          "replaceDuplicatePlugins": true</span>
<span class="token inserted">+        &#125;</span>
        ...
      &#125;,
      ...
    &#125;,
    "serve": &#123;
<span class="token deleted">-      "builder": "@angular-devkit/build-angular:dev-server",</span>
<span class="token inserted">+      "builder": "@angular-builders/custom-webpack:dev-server",</span>
       ...
    &#125;
    ...
  &#125;</code></pre>
<p>You can get more information about custom-webpack builder following the articles</p>
<ul>
<li><a href="https://www.npmjs.com/package/@angular-builders/custom-webpack">Angular Builder Document</a></li>
<li><a href="https://alligator.io/angular/custom-webpack-config/">Angular CLI: Custom webpack Config</a></li>
<li><a href="https://netbasal.com/customize-webpack-configuration-in-your-angular-application-d09683f6bd22">Customize Webpack Configuration in Your Angular Application</a></li>
</ul>
<p>All less vars can be checked <a href="https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/scripts/site/_site/doc/theme.less">here</a> is a sample of theme define file.</p>
<h2 id="official-themes"><span>Official Themes</span><a onclick="window.location.hash = 'official-themes'" class="anchor">#</a></h2><p>We have some official themes, try them out and give us some feedback!</p>
<ul>
<li>ðŸŒ‘ Dark Theme (supported in 9+)</li>
<li>ðŸ“¦ Compact Theme (supported in 9+)</li>
</ul>
<h3 id="method-1"><span>Method 1</span><a onclick="window.location.hash = 'method-1'" class="anchor">#</a></h3><p>Import <code>ng-zorro-antd.dark.less</code> or <code>ng-zorro-antd.compact.less</code> in the style file.</p>
<pre class="language-less"><code><span class="token variable">@import</span> <span class="token string">"~ng-zorro-antd/ng-zorro-antd.dark.less"</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Import the official dark less style file</span>
<span class="token variable">@import</span> <span class="token string">"~ng-zorro-antd/ng-zorro-antd.compact.less"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Import the official compact less style file</span></code></pre>
<h3 id="method-2"><span>Method 2</span><a onclick="window.location.hash = 'method-2'" class="anchor">#</a></h3><p>If the project does not use Less, you can include <code>ng-zorro-antd.dark.css</code> or <code>ng-zorro-antd.compact.css</code> in the CSS file or add to the <code>angular.json</code> config.</p>
<p>CSS fileï¼š</p>
<pre class="language-css"><code><span class="token atrule"><span class="token rule">@import</span> <span class="token string">"~ng-zorro-antd/ng-zorro-antd.dark.css"</span><span class="token punctuation">;</span></span></code></pre>
<p>angular.json</p>
<pre class="language-json"><code><span class="token punctuation">&#123;</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"options"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"styles"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"node_modules/ng-zorro-antd/ng-zorro-antd.dark.css"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<h3 id="method-3"><span>Method 3</span><a onclick="window.location.hash = 'method-3'" class="anchor">#</a></h3><p>using less-loader in webpack to introduce as needed.</p>
<pre class="language-javascript"><code><span class="token keyword">const</span> darkThemeVars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ng-zorro-antd/dark-theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> compactThemeVars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ng-zorro-antd/compact-theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        test   <span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
          modifyVars<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
          <span class="token string">'hack'</span><span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`true;@import "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'ng-zorro-antd/style/color/colorPalette.less'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">";`</span></span><span class="token punctuation">,</span>
            <span class="token operator">...</span>darkThemeVars<span class="token punctuation">,</span>
            <span class="token operator">...</span>compactThemeVars
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          javascriptEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="switch-theming"><span>Switch Theming</span><a onclick="window.location.hash = 'switch-theming'" class="anchor">#</a></h2><p>When using @angular/cli to configure themes, you must build applications for each theme. When you want to switch themes without reloading the application (like this website), you can use the following method to compile the theme into a style file, and switch at runtime:</p>
<p>Note: Make sure theme variables exist in global styles, not in component scope styles, because component styles that have higher priority will prevent the theme override.</p>
<ol>
<li>Install Dependencies</li>
</ol>
<pre class="language-bash"><code><span class="token function">npm</span> i <span class="token function">less</span> -D less-plugin-clean-css -D</code></pre>
<ol start="2">
<li>Script</li>
</ol>
<p>Take the dark theme, for example, use the less-compiler to compile the application&#39;s style entry file, and replace the style variables in the <code>modifyVars</code>,  and output to target path.</p>
<pre class="language-js"><code><span class="token keyword">const</span> less <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'less'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> LessPluginCleanCSS <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'less-plugin-clean-css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> darkThemeVars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ng-zorro-antd/dark-theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> appStyles <span class="token operator">=</span> <span class="token string">'path/src/styles.less'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// style entry path for the application</span>
<span class="token keyword">const</span> themeContent <span class="token operator">=</span> <span class="token template-string"><span class="token string">`@import '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>appStyles<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">';`</span></span><span class="token punctuation">;</span>

less<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>themeContent<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  javascriptEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">LessPluginCleanCSS</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> advanced<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  modifyVars<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>darkThemeVars
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>
    <span class="token comment" spellcheck="true">// output path for the theme style</span>
    <span class="token string">'path/assets/themes/style.dark.css'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">.</span>css
  <span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
  <span class="token comment" spellcheck="true">// log the render error</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ol start="3">
<li>Switch Theme at Runtime</li>
</ol>
<p>Dynamically create a <code>link</code> tag, dynamically load style files into the application, and remove them otherwise.</p>
<pre class="language-ts"><code><span class="token function">changeTheme</span><span class="token punctuation">(</span>theme<span class="token punctuation">:</span> <span class="token string">'default'</span> <span class="token operator">|</span> <span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'dark'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    style<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/css'</span><span class="token punctuation">;</span>
    style<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">'stylesheet'</span><span class="token punctuation">;</span>
    style<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'dark-theme'</span><span class="token punctuation">;</span>
    style<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'assets/themes/style.dark.css'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'dark-theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dom<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      dom<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
</section>
  </article>